# Dropbox Photo Organizer Configuration
# Copy this file to config.yaml and fill in your values

dropbox:
  # Your Dropbox app access token (see DROPBOX_SETUP.md for instructions)
  access_token: "YOUR_DROPBOX_ACCESS_TOKEN_HERE"

  # Source folder path in Dropbox (e.g., "/Photos/Family" or "/Camera Uploads")
  source_folder: "/path/to/source/folder"

  # Destination folder for photos with the target person
  destination_folder: "/path/to/destination/folder"

face_recognition:
  # Provider to use: 'local', 'aws', or 'azure'
  # - local: Uses face_recognition library (dlib), runs offline, free
  # - aws: Uses AWS Rekognition (requires AWS account, API costs)
  # - azure: Uses Azure Face API (requires Azure account, API costs)
  provider: "local"

  # Path to reference photos of the person to detect (local directory)
  reference_photos_dir: "./reference_photos"

  # Face matching tolerance (lower = more strict, typical range: 0.4-0.6)
  tolerance: 0.6

  # Thumbnail size for faster processing (width x height)
  thumbnail_size: "w256h256"

  # Provider-specific configurations

  # Local provider settings
  local:
    model: "hog"  # 'hog' (faster, CPU) or 'cnn' (more accurate, GPU)
    num_jitters: 1  # Higher = more accurate but slower

  # AWS Rekognition settings (only needed if provider is 'aws')
  aws:
    # AWS credentials (optional if using AWS CLI configuration)
    # aws_access_key_id: "YOUR_AWS_ACCESS_KEY"
    # aws_secret_access_key: "YOUR_AWS_SECRET_KEY"
    aws_region: "us-east-1"
    similarity_threshold: 80.0  # Percentage (0-100)

  # Azure Face API settings (only needed if provider is 'azure')
  azure:
    # azure_api_key: "YOUR_AZURE_API_KEY"
    # azure_endpoint: "https://YOUR_REGION.api.cognitive.microsoft.com"
    person_group_id: "dropbox-photo-organizer"
    confidence_threshold: 0.5  # 0.0 to 1.0

processing:
  # File operation mode: 'copy' (safer, default) or 'move' (destructive)
  # - copy: Preserves original files, prevents data loss, maintains shared links
  # - move: Removes files from source, use only when you're sure
  operation: "copy"

  # Enable audit logging of all file operations
  log_operations: true

  # Enable dry run mode (list matches without moving files)
  dry_run: true

  # Batch size for processing photos
  batch_size: 50

  # Supported image extensions
  image_extensions:
    - .jpg
    - .jpeg
    - .png
    - .heic

  # Enable verbose logging
  verbose: true
